{{- if .Values.crd.install }}
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: adcsissuers.adcs.certmanager.csf.nokia.com
  annotations:
    cert-manager.io/inject-ca-from: {{ .Release.Namespace }}/{{ include "chart.fullname" . }}-
    controller-gen.kubebuilder.io/version: v0.7.0
  labels:
    {{- include "chart.labels" . | nindent 4 }}
spec:
  group: adcs.certmanager.csf.nokia.com
  names:
    kind: AdcsIssuer
    listKind: AdcsIssuerList
    plural: adcsissuers
    singular: adcsissuer
  scope: Namespaced
  versions:
    - name: v1
      schema:
        openAPIV3Schema:
          description: AdcsIssuer is the Schema for the adcsissuers API
          type: object
          properties:
            apiVersion:
              description: APIVersion defines the versioned schema of this representation of an object.
              type: string
            kind:
              description: Kind is a string value representing the REST resource this object represents.
              type: string
            metadata:
              type: object
            spec:
              description: AdcsIssuerSpec defines the desired state of AdcsIssuer
              type: object
              properties:
                caBundle:
                  description: CABundle is a PEM encoded TLS certificate to use to verify connections to the ADCS server.
                  type: string
                  format: byte
                credentialsRef:
                  description: CredentialsRef is a reference to a Secret containing the username and password for the ADCS server.
                  type: object
                  properties:
                    name:
                      description: Name of the referent.
                      type: string
                  required:
                    - name
                retryInterval:
                  description: How often to retry in case of communication errors (in time.ParseDuration() format). Default: 1 hour.
                  type: string
                statusCheckInterval:
                  description: How often to check for request status in the server (in time.ParseDuration() format). Default: 6 hours.
                  type: string
                templateName:
                  description: Which ADCS Template should this issuer use. Defaults to the value specified in main.go or as a CLI option.
                  type: string
                url:
                  description: URL is the base URL for the ADCS instance.
                  type: string
              required:
                - credentialsRef
                - url
            status:
              description: AdcsIssuerStatus defines the observed state of AdcsIssuer
              type: object
      served: true
      storage: true
      subresources:
        status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
{{- end }}
